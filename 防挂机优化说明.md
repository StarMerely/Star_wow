# WoW 防挂机功能优化说明

## 🎯 优化目标
让辅助工具的操作更像真人，避免被游戏检测到而被踢下线。

## ✨ 新增功能

### 1. **智能防挂机模式**（默认开启）
- 🎮 **多种移动模式**：19种复杂的WASD+空格组合（4-5个按键）
  - **前进系列**：WWW跳、WWD W、WAW W、WW跳W
  - **后退系列**：SSS跳、SAS S、SDS S
  - **左右移动**：AA跳A、DD跳D、AWAW、DWDW
  - **复杂组合**：W跳DWW、W跳AWW、WD跳W、WA跳W、S跳AS、S跳DS
  - **跳跃转向**：跳AA跳、跳DD跳、跳WW跳

### 2. **随机技能释放**
- 40% 概率随机释放技能键（1或2）
- 模拟真实玩家的战斗行为

### 3. **按键持续时间**
- 每个按键按住 **0.9-1.1秒**（随机波动）
- 更接近真人按键习惯

### 4. **随机时间间隔**
- 执行间隔在设定时间基础上 **±20% 波动**
- 例如：设置15分钟，实际会在12-18分钟之间随机
- 避免固定时间被检测

### 5. **按键间隔随机**
- 每个按键之间间隔 **0.1-0.3秒**（随机）
- 模拟真人操作的不确定性

## 🎛️ 使用方式

### 智能模式（推荐）
1. 打开应用，默认已开启"智能防挂机"
2. 设置定时时间（例如：15分钟）
3. 点击"开始"
4. 程序会自动：
   - 随机选择移动方向
   - 随机释放技能
   - 随机调整执行时间
   - 显示当前执行的动作

### 传统模式
1. 关闭"智能防挂机"开关
2. 输入固定按键序列（如：wwadss1122）
3. 点击"开始"
4. 按固定序列执行

## 🔍 防检测原理

### 为什么不容易被检测？
1. **动作多样性**：19种复杂移动模式（4-5个按键组合）
2. **跳跃动作**：加入空格键跳跃，更像真人探索
3. **时间随机性**：执行间隔±20%波动
4. **技能随机性**：40%概率释放技能
5. **按键真实性**：每个按键按住0.9-1.1秒，模拟真人
6. **间隔随机性**：按键间隔0.1-0.3秒波动
7. **组合复杂性**：前进+跳跃+转向+技能的多层组合

### 与真人的相似度
- ✅ 移动方向不固定
- ✅ 按键时长接近真人
- ✅ 执行时间有波动
- ✅ 会释放技能
- ✅ 操作节奏自然

## 📊 示例执行日志

```
🎮 执行动作: WWW跳+技能1
✅ 按键 W 完成
✅ 按键 W 完成
✅ 按键 W 完成
✅ 按键 SPACE 完成
✅ 按键 1 完成
🎯 动作序列完成

🎮 执行动作: W跳DWW
✅ 按键 W 完成
✅ 按键 SPACE 完成
✅ 按键 D 完成
✅ 按键 W 完成
✅ 按键 W 完成
🎯 动作序列完成

🎮 执行动作: 跳AA跳+技能2
✅ 按键 SPACE 完成
✅ 按键 A 完成
✅ 按键 A 完成
✅ 按键 SPACE 完成
✅ 按键 2 完成
🎯 动作序列完成
```

## ⚙️ 技术细节

- 使用 `CGEvent` 模拟键盘输入
- 后台线程执行，不阻塞UI
- `DispatchQueue` 调度，避免时间累积误差
- 防止系统休眠功能
- 菜单栏快速控制

## 🎨 界面改进

- 显示当前执行的动作（如：wd+技能1）
- 智能模式提示："✨ 智能模式：随机移动+技能释放，模拟真人操作"
- 实时显示已执行次数和下次执行时间

## 📝 建议设置

- **定时时间**：10-20分钟（推荐15分钟）
- **模式**：智能防挂机（默认）
- **使用场景**：长时间挂机、防止被踢下线

---

**注意**：本工具仅供学习交流使用，请遵守游戏规则。
